# ALIGNMENT_GAL_RECOMMEND.md

## 项目上下文分析

### 项目结构
当前项目是一个基于Vite的前端应用，目录结构包含：
- src/: 源代码目录，包含Vue组件、页面和静态资源
- dist/: 构建输出目录
- docs/: 文档目录
- vite.config.js: Vite配置文件
- package.json: 项目依赖配置

### 技术栈
- 前端框架：UniApp、Vue3
- 构建工具：Vite
- 组件库：uni-ui

### 业务域
该项目是galgame批评项目组开发的游戏推荐系统，旨在利用游戏信息和AI能力，帮助视觉小说玩家寻找心仪的游戏。

## 需求理解确认

### 原始需求
开发一个galgame推荐系统，主要功能包括：
1. 首页：提供多种交互方式（对话、问卷、游戏）获取用户偏好
2. 个人页：包含对话列表、宾果详情、卡片详情、个人档案和收藏标签
3. 推荐页：根据用户画像和游戏画像生成推荐列表
4. 游戏详情页：展示游戏的详细信息、评论和推荐列表
5. 游戏搜索页：根据关键词搜索游戏

### 边界确认
- 系统将专注于视觉小说(galgame)的推荐
- 交互方式限定为对话、问卷和游戏（宾果）
- 用户画像信息将在服务器内部处理，前端不直接存储敏感信息
- 游戏信息来源于内置数据库

### 需求理解
- 首页是用户交互的入口，通过不同方式收集用户偏好
- 对话功能需要连接到内置的游戏和角色知识库
- 问卷是结构化的偏好收集方式
- 宾果游戏提供多维度选项让用户选择
- 卡片游戏通过两两比较让用户选择更偏好的游戏
- 个人页用于展示用户的历史交互和个人信息
- 推荐页基于用户画像和游戏画像的匹配结果展示推荐

### 疑问澄清
1. 服务器端的实现是否已经完成？
   - 服务器端已经完成，主要通过自托管的supabase完成，还有辅助的fastapi服务。提供了游戏数据接口和异步队列、定时任务等功能
2. 游戏数据库的结构和内容是什么？
   - 游戏数据库是一个自托管的supabase数据库，包含游戏信息、用户数据、游戏评论等，结构可以在public schema下查看
3. AI推荐算法的具体实现逻辑是什么？
   - 推荐算法基于用户画像和游戏画像的匹配，利用游戏评论和用户交互数据进行训练，不需要前端处理，后端有具体算法和逻辑
4. 用户画像的具体维度有哪些？
   - 用户画像是通过memobase实现的，是一种profile式的长期记忆工具，主要从用户交互数据提取用户的长期偏好和行为模式，格式不定
5. 是否有具体的UI/UX设计规范？
   - 没有具体的UI/UX设计规范，需要根据用户调研和反馈进行迭代优化
6. 项目的目标用户群体有哪些特定特征？
   - 目标用户是视觉小说玩家，主要是男性用户，年龄在18岁以上
7. 是否需要支持多语言？
   - 暂时不支持多语言，只需要考虑中文用户即可
8. 推荐系统的更新频率是多久？
   - 推荐系统会根据用户交互数据和游戏数据库进行定时更新，推荐频率根据用户需求和系统负载进行调整，前端项目无需关心
